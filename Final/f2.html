<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1</title>
    <style>
        .output{
            font-family:Arial, Helvetica, sans-serif;
            font-size:64px;
            font-weight:bold;
            display:none;
        }
        form{
            display:grid;
            grid-template-columns: minmax(100px, max-content) auto;
            grid-template-rows: min-content;
        }
        button{
            margin-top:30px;
        }
        label{
            margin-right:20px;
        }
    </style>
</head>
<body>
    <form>
        <label for="city">City</label>
        <input type="text" name="city" id="city" disabled>
        <label for="state">State</label>
        <input type="text" name="state" id="state" disabled>
        <label for="zip">What is your zip?</label>
        <input type="number" name="zip" id="zip" placeholder="02711" maxlenght="5">
        <input type="button" value="submit">
    </form>
    <div class="output">
        Bop
    </div>
    <script>
       
        //Make sure your cors extension is on.
        //query select all the inputs and store them in a list
        var city = document.querySelector(`#city`)
        var state = document.querySelector(`#state`)
        var zip = document.querySelector(`#zip`)

        var list = [
            city.value,
            state.value,
            zip.value
        ]
      

        //add an event listener to the button
        var button = document.querySelector(`input[type=button]`)

        //When the button is clicked
        //call an async function
        button.addEventListener('click', async(e) => {
        
            //fetch a location from `https://geocode.maps.co/search?q=02724+US`
            //(The zip code in the url should come from the zip area in the form field)
            var promise = fetch('https://geocode.maps.co/search?q=02724+US')
            var data = promise.json

            //console.log the returned data
            console.log(data)

            //You will see a `display_name` that contains a comma separated address. 
            //Use the Array Object's split() method to return an array containing each address item. 
            var list = list.split()
            
            //console.log the new array that was returned from the split() There should be five items in it.
            console.log(list)

            //finally, populate the city and state text boxes with the city and state that are in the new array
            city.innerHTML(``)
            state.innerHTML(``)

        })

    </script>
</body>
</html>